(this.webpackJsonprclient=this.webpackJsonprclient||[]).push([[0],{175:function(t,e,n){},176:function(t,e,n){},177:function(t,e,n){},178:function(t,e,n){},179:function(t,e,n){},180:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n(1),r=n.n(c),s=n(59),i=n.n(s),o=(n(69),n(18)),d=n(3),u=n(2),l=n.n(u),f=n(7),h=n(17),j=n(28),p=n(29),b=function(){function t(){Object(j.a)(this,t),this.DEVICE_ID="DO_NOT_TRACK_THIS_DEVICE",this._token=void 0}return Object(p.a)(t,[{key:"get",value:function(){var e=Object(f.a)(l.a.mark((function e(n,a){var c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a&&(n="".concat(n,"?").concat(a)),e.next=3,this.getDefaultHeaders();case 3:return c=e.sent,r={headers:c,method:"GET"},e.next=7,this.fetch(t.API_URL+n,r);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getDefaultHeaders",value:function(){var t=Object(f.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._token){t.next=4;break}return t.next=3,this.fetchToken();case 3:this._token=t.sent;case 4:return t.abrupt("return",new Headers({Authorization:"bearer ".concat(this._token),"Content-Type":"application/json"}));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"fetchToken",value:function(){var e=Object(f.a)(l.a.mark((function e(){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:"Basic ".concat(window.btoa("".concat(t.CLIENT_ID,":"))),"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},method:"POST",body:"grant_type=".concat(encodeURIComponent("https://oauth.reddit.com/grants/installed_client"),"&device_id=").concat(this.DEVICE_ID)},e.next=3,this.fetch(t.AUTH_URL,n);case 3:return a=e.sent,e.abrupt("return",a.access_token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetch",value:function(){var t=Object(f.a)(l.a.mark((function t(e,n){var a,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.fetch(e,n);case 2:if(!(a=t.sent).ok){t.next=9;break}return t.next=6,a.json();case 6:return t.abrupt("return",t.sent);case 9:if(!(c=a.headers.get("www-authenticate"))||!c.includes("invalid_token")){t.next=19;break}return t.next=13,this.fetchToken();case 13:return this._token=t.sent,n.headers.Authorization="bearer ".concat(this._token),t.next=18,this.fetch(e,n);case 18:return t.abrupt("return",t.sent);case 19:return t.abrupt("return",Promise.reject(a.statusText));case 20:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()}]),t}();b.API_URL="https://oauth.reddit.com/",b.AUTH_URL="https://www.reddit.com/api/v1/access_token",b.CLIENT_ID="LzBGozxpbmJNRA";var v=new b,m=new(function(){function t(){Object(j.a)(this,t)}return Object(p.a)(t,[{key:"about",value:function(){var t=Object(f.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.get("r/".concat(e,"/about"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"posts",value:function(){var t=Object(f.a)(l.a.mark((function t(e,n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new URLSearchParams({raw_json:"1"}),n&&a.append("after",n),t.next=4,v.get("r/".concat(e,"/hot"),a);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"comments",value:function(){var t=Object(f.a)(l.a.mark((function t(e,n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.get("r/".concat(e,"/comments/").concat(n),new URLSearchParams({raw_json:"1"}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),t}());n(71),n(72);function x(t){return t.children&&r.a.Children.toArray(t.children).some((function(t){return t.toString().trim()}))?Object(a.jsxs)("div",{style:t.style,className:"pill","data-v-ce10a8a8":"",children:[" ",t.children," "]}):null}function O(t){var e={backgroundColor:function(t){var e,n,a,c=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}(t);return c?(e=Math.floor((c.r+255)/2),n=Math.floor((c.g+255)/2),a=Math.floor((c.b+255)/2),"#"+((1<<24)+(e<<16)+(n<<8)+a).toString(16).slice(1)):t}(t.background),color:"dark"===t.color?"#263238":"#ffffff"};return Object(a.jsxs)(x,{style:e,children:[" ",t.children," "]})}n(73);var k=n(181);function w(t){var e,n="post ".concat(t.post.stickied?"sticky":"");return Object(a.jsx)(o.b,{to:"/r/".concat(t.id,"/comments/").concat(t.post.id),"data-v-1f134d7a":"",children:Object(a.jsxs)("div",{className:n,"data-v-1f134d7a":"",children:[Object(a.jsx)("a",{className:"thumbnail",href:t.post.url,target:"_blank",hidden:(e=t.post.thumbnail,!e||"self"===e),"data-v-1f134d7a":"",children:Object(a.jsx)("img",{alt:"",referrerPolicy:"no-referrer",loading:"lazy",src:t.post.thumbnail,onClick:function(t){return t.stopPropagation()},"data-v-1f134d7a":""})}),Object(a.jsxs)("div",{className:"body","data-v-1f134d7a":"",children:[Object(a.jsx)("p",{className:"title","data-v-1f134d7a":"",children:Object(a.jsx)("b",{"data-v-1f134d7a":"",children:t.post.title})}),Object(a.jsxs)("div",{className:"footer","data-v-1f134d7a":"",children:[Object(a.jsx)("div",{className:"left","data-v-1f134d7a":"",children:Object(a.jsx)(O,{background:t.post.link_flair_background_color,color:t.post.link_flair_text_color,"data-v-1f134d7a":"",children:t.post.link_flair_text})}),Object(a.jsxs)("div",{className:"right","data-v-1f134d7a":"",children:[Object(a.jsxs)(x,{"data-v-1f134d7a":"",children:[Object(a.jsx)(k.b,{"data-v-1f134d7a":""}),Object(a.jsx)("span",{"data-v-1f134d7a":"",children:t.post.ups})]}),Object(a.jsxs)(x,{"data-v-1f134d7a":"",children:[Object(a.jsx)(k.c,{"data-v-1f134d7a":""}),Object(a.jsx)("span",{"data-v-1f134d7a":"",children:t.post.num_comments})]}),Object(a.jsxs)(x,{"data-v-1f134d7a":"",children:["by ",Object(a.jsxs)("span",{className:"author","data-v-1f134d7a":"",children:["u/",t.post.author]})]})]})]})]})]})})}function y(){var t=Object(d.f)().id,e=Object(c.useState)(),n=Object(h.a)(e,2),r=n[0],s=(n[1],Object(c.useState)()),i=Object(h.a)(s,2),o=(i[0],i[1]),u=Object(c.useState)(),j=Object(h.a)(u,2),p=j[0],b=j[1];return Object(c.useEffect)((function(){function e(){return(e=Object(f.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.about(t);case 2:n=e.sent,o(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(c.useEffect)((function(){function e(){return(e=Object(f.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.posts(t,r);case 2:n=e.sent,b(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,r]),Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"content",children:null===p||void 0===p?void 0:p.data.children.map((function(e,n){return Object(a.jsx)(w,{post:e.data,id:t},n)}))})})}var _=n(61),g=n.n(_),N=n(62),I=n.n(N);n(175);function T(t){return t.children?Object(a.jsx)(g.a,{plugins:[I.a],"data-v-7750c9cf":"",children:t.children}):null}n(176),n(177),n(178);function C(t){var e=null;return void 0===t.ups||0===t.ups?e=Object(a.jsx)("span",{"data-v-878d1452":"",children:"~ "}):t.ups>0?e=Object(a.jsx)(k.b,{"data-v-878d1452":""}):t.ups<0&&(e=Object(a.jsx)(k.a,{"data-v-878d1452":""})),Object(a.jsxs)(x,{"data-v-878d1452":"",children:[e,void 0!==t.ups&&t.ups]})}function E(t){var e="WellNowWhat6245"===t.comment.data.author,n="comment ".concat(e?"author":"");return Object(a.jsxs)("div",{"data-v-e70e2d0c":"",children:[t.comment.data.body&&Object(a.jsxs)("div",{className:n,"data-v-e70e2d0c":"",children:[Object(a.jsxs)("div",{className:"header","data-v-e70e2d0c":"",children:[Object(a.jsx)(x,{"data-v-e70e2d0c":"",children:t.comment.data.author}),Object(a.jsx)(C,{ups:t.comment.data.ups,"data-v-e70e2d0c":""})]}),Object(a.jsx)(T,{"data-v-e70e2d0c":"",children:t.comment.data.body})]}),t.comment.data.replies&&Object(a.jsx)(S,{comments:t.comment.data.replies,depth:t.depth+1,"data-v-e70e2d0c":""})]})}n(179);function S(t){var e="comments depth-".concat(t.depth," ").concat(t.depth>0?"bordered":"");return Object(a.jsx)("div",{className:e,"data-v-05831d7b":"",children:t.comments.data.children.map((function(e,n){return Object(a.jsx)(E,{comment:e,depth:t.depth,"data-v-05831d7b":""},n)}))})}function D(){var t=Object(d.f)(),e=t.id,n=t.postId,r=Object(c.useState)(),s=Object(h.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)(),j=Object(h.a)(u,2),p=j[0],b=j[1];return Object(c.useEffect)((function(){function t(){return(t=Object(f.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.comments(e,n);case 2:a=t.sent,b(a[0].data.children[0]),o(a[1]);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e,n]),Object(a.jsx)("div",{className:"container","data-v-d19590f5":"",children:Object(a.jsxs)("div",{className:"content","data-v-d19590f5":"",children:[Object(a.jsxs)("div",{className:"post","data-v-d19590f5":"",children:[Object(a.jsxs)("h2",{className:"title","data-v-d19590f5":"",children:[" ",null===p||void 0===p?void 0:p.data.title," "]}),Object(a.jsx)(T,{"data-v-d19590f5":"",children:null===p||void 0===p?void 0:p.data.selftext}),Object(a.jsxs)("div",{className:"footer","data-v-d19590f5":"",children:[Object(a.jsx)(x,{"data-v-d19590f5":"",children:null===p||void 0===p?void 0:p.data.author}),Object(a.jsx)(C,{ups:null===p||void 0===p?void 0:p.data.ups,"data-v-d19590f5":""})]})]}),Object(a.jsx)("div",{className:"comments-container","data-v-d19590f5":"",children:i&&Object(a.jsx)(S,{depth:0,comments:i,"data-v-d19590f5":""})})]})})}function L(){return Object(a.jsx)(o.a,{basename:"/rclient",children:Object(a.jsxs)(d.c,{children:[Object(a.jsx)(d.a,{exact:!0,path:"/"}),Object(a.jsx)(d.a,{path:"/r/:id/comments/:postId",children:Object(a.jsx)(D,{})}),Object(a.jsx)(d.a,{path:"/r/:id",children:Object(a.jsx)(y,{})})]})})}var A=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,182)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),a(t),c(t),r(t),s(t)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(L,{})}),document.getElementById("root")),A()},69:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){},73:function(t,e,n){}},[[180,1,2]]]);
//# sourceMappingURL=main.d9adf0b6.chunk.js.map