(this.webpackJsonprclient=this.webpackJsonprclient||[]).push([[0],{175:function(t,e,n){},176:function(t,e,n){},177:function(t,e,n){},178:function(t,e,n){},179:function(t,e,n){},180:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n(1),r=n.n(c),s=n(59),i=n.n(s),o=(n(69),n(18)),u=n(3),d=n(2),b=n.n(d),f=n(7),l=n(17),h=n(28),j=n(29),p=function(){function t(){Object(h.a)(this,t),this.DEVICE_ID="DO_NOT_TRACK_THIS_DEVICE",this._token=void 0}return Object(j.a)(t,[{key:"get",value:function(){var e=Object(f.a)(b.a.mark((function e(n,a){var c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a&&(n="".concat(n,"?").concat(a)),e.next=3,this.getDefaultHeaders();case 3:return c=e.sent,r={headers:c,method:"GET"},e.next=7,this.fetch(t.API_URL+n,r);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getDefaultHeaders",value:function(){var t=Object(f.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._token){t.next=4;break}return t.next=3,this.fetchToken();case 3:this._token=t.sent;case 4:return t.abrupt("return",new Headers({Authorization:"bearer ".concat(this._token),"Content-Type":"application/json"}));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"fetchToken",value:function(){var e=Object(f.a)(b.a.mark((function e(){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:"Basic ".concat(window.btoa("".concat(t.CLIENT_ID,":"))),"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},method:"POST",body:"grant_type=".concat(encodeURIComponent("https://oauth.reddit.com/grants/installed_client"),"&device_id=").concat(this.DEVICE_ID)},e.next=3,this.fetch(t.AUTH_URL,n);case 3:return a=e.sent,e.abrupt("return",a.access_token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetch",value:function(){var t=Object(f.a)(b.a.mark((function t(e,n){var a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.fetch(e,n);case 2:if(!(a=t.sent).ok){t.next=9;break}return t.next=6,a.json();case 6:return t.abrupt("return",t.sent);case 9:if(!(c=a.headers.get("www-authenticate"))||!c.includes("invalid_token")){t.next=19;break}return t.next=13,this.fetchToken();case 13:return this._token=t.sent,n.headers.Authorization="bearer ".concat(this._token),t.next=18,this.fetch(e,n);case 18:return t.abrupt("return",t.sent);case 19:return t.abrupt("return",Promise.reject(a.statusText));case 20:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()}]),t}();p.API_URL="https://oauth.reddit.com/",p.AUTH_URL="https://www.reddit.com/api/v1/access_token",p.CLIENT_ID="LzBGozxpbmJNRA";var v=new p,m=new(function(){function t(){Object(h.a)(this,t)}return Object(j.a)(t,[{key:"about",value:function(){var t=Object(f.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.get("r/".concat(e,"/about"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"posts",value:function(){var t=Object(f.a)(b.a.mark((function t(e,n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new URLSearchParams({raw_json:"1"}),n&&a.append("after",n),t.next=4,v.get("r/".concat(e,"/hot"),a);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"comments",value:function(){var t=Object(f.a)(b.a.mark((function t(e,n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.get("r/".concat(e,"/comments/").concat(n),new URLSearchParams({raw_json:"1"}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),t}());n(71),n(72);function x(t){return t.children||t.children.every((function(t){return t}))?Object(a.jsxs)("div",{style:t.style,className:"pill","data-v-7d271989":"",children:[" ",t.children," "]}):null}function O(t){var e={backgroundColor:function(t){var e,n,a,c=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}(t);return c?(e=Math.floor((c.r+255)/2),n=Math.floor((c.g+255)/2),a=Math.floor((c.b+255)/2),"#"+((1<<24)+(e<<16)+(n<<8)+a).toString(16).slice(1)):t}(t.background),color:"dark"===t.color?"#263238":"#ffffff"};return Object(a.jsxs)(x,{style:e,children:[" ",t.children," "]})}n(73);var k=n(181);function w(t){var e,n="post ".concat(t.post.stickied?"sticky":"");return Object(a.jsx)(o.b,{to:"/r/".concat(t.id,"/comments/").concat(t.post.id),"data-v-afbbb0a2":"",children:Object(a.jsxs)("div",{className:n,"data-v-afbbb0a2":"",children:[Object(a.jsx)("a",{className:"thumbnail",href:t.post.url,target:"_blank",hidden:(e=t.post.thumbnail,!e||"self"===e),"data-v-afbbb0a2":"",children:Object(a.jsx)("img",{alt:"",src:t.post.thumbnail,onClick:function(t){return t.stopPropagation()},"data-v-afbbb0a2":""})}),Object(a.jsxs)("div",{className:"body","data-v-afbbb0a2":"",children:[Object(a.jsx)("p",{className:"title","data-v-afbbb0a2":"",children:Object(a.jsx)("b",{"data-v-afbbb0a2":"",children:t.post.title})}),Object(a.jsxs)("div",{className:"footer","data-v-afbbb0a2":"",children:[Object(a.jsx)("div",{className:"left","data-v-afbbb0a2":"",children:Object(a.jsx)(O,{background:t.post.link_flair_background_color,color:t.post.link_flair_text_color,"data-v-afbbb0a2":"",children:t.post.link_flair_text})}),Object(a.jsxs)("div",{className:"right","data-v-afbbb0a2":"",children:[Object(a.jsxs)(x,{"data-v-afbbb0a2":"",children:[Object(a.jsx)(k.b,{"data-v-afbbb0a2":""}),Object(a.jsx)("span",{"data-v-afbbb0a2":"",children:t.post.ups})]}),Object(a.jsxs)(x,{"data-v-afbbb0a2":"",children:[Object(a.jsx)(k.c,{"data-v-afbbb0a2":""}),Object(a.jsx)("span",{"data-v-afbbb0a2":"",children:t.post.num_comments})]}),Object(a.jsxs)(x,{"data-v-afbbb0a2":"",children:["by ",Object(a.jsxs)("span",{className:"author","data-v-afbbb0a2":"",children:["u/",t.post.author]})]})]})]})]})]})})}function _(){var t=Object(u.f)().id,e=Object(c.useState)(),n=Object(l.a)(e,2),r=n[0],s=(n[1],Object(c.useState)()),i=Object(l.a)(s,2),o=(i[0],i[1]),d=Object(c.useState)(),h=Object(l.a)(d,2),j=h[0],p=h[1];return Object(c.useEffect)((function(){function e(){return(e=Object(f.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.about(t);case 2:n=e.sent,o(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(c.useEffect)((function(){function e(){return(e=Object(f.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.posts(t,r);case 2:n=e.sent,p(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,r]),Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"content",children:null===j||void 0===j?void 0:j.data.children.map((function(e,n){return Object(a.jsx)(w,{post:e.data,id:t},n)}))})})}var y=n(61),g=n.n(y),N=n(62),I=n.n(N);n(175);function T(t){return t.children?Object(a.jsx)(g.a,{plugins:[I.a],"data-v-7750c9cf":"",children:t.children}):null}n(176),n(177),n(178);function C(t){return Object(a.jsxs)(x,{"data-v-5624a5ef":"",children:[t.ups>0?Object(a.jsx)(k.b,{"data-v-5624a5ef":""}):Object(a.jsx)(k.a,{"data-v-5624a5ef":""}),t.ups]})}function E(t){var e="WellNowWhat6245"===t.comment.data.author,n="comment ".concat(e?"author":"");return Object(a.jsxs)("div",{"data-v-e70e2d0c":"",children:[t.comment.data.body&&Object(a.jsxs)("div",{className:n,"data-v-e70e2d0c":"",children:[Object(a.jsxs)("div",{className:"header","data-v-e70e2d0c":"",children:[Object(a.jsx)(x,{"data-v-e70e2d0c":"",children:t.comment.data.author}),Object(a.jsx)(C,{ups:t.comment.data.ups,"data-v-e70e2d0c":""})]}),Object(a.jsx)(T,{"data-v-e70e2d0c":"",children:t.comment.data.body})]}),t.comment.data.replies&&Object(a.jsx)(S,{comments:t.comment.data.replies,depth:t.depth+1,"data-v-e70e2d0c":""})]})}n(179);function S(t){var e="comments depth-".concat(t.depth," ").concat(t.depth>0?"bordered":"");return Object(a.jsx)("div",{className:e,"data-v-05831d7b":"",children:t.comments.data.children.map((function(e,n){return Object(a.jsx)(E,{comment:e,depth:t.depth,"data-v-05831d7b":""},n)}))})}function D(){var t=Object(u.f)(),e=t.id,n=t.postId,r=Object(c.useState)(),s=Object(l.a)(r,2),i=s[0],o=s[1],d=Object(c.useState)(),h=Object(l.a)(d,2),j=h[0],p=h[1];return Object(c.useEffect)((function(){function t(){return(t=Object(f.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.comments(e,n);case 2:a=t.sent,p(a[0].data.children[0]),o(a[1]);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e,n]),Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"content",children:[Object(a.jsxs)("div",{className:"post",children:[Object(a.jsxs)("h3",{children:[" ",null===j||void 0===j?void 0:j.data.title," "]}),Object(a.jsx)(T,{children:null===j||void 0===j?void 0:j.data.selftext})]}),Object(a.jsx)("div",{className:"comments-container",children:i&&Object(a.jsx)(S,{depth:0,comments:i})})]})})}function L(){return Object(a.jsx)(o.a,{basename:"/rclient",children:Object(a.jsxs)(u.c,{children:[Object(a.jsx)(u.a,{exact:!0,path:"/"}),Object(a.jsx)(u.a,{path:"/r/:id/comments/:postId",children:Object(a.jsx)(D,{})}),Object(a.jsx)(u.a,{path:"/r/:id",children:Object(a.jsx)(_,{})})]})})}var A=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,182)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),a(t),c(t),r(t),s(t)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(L,{})}),document.getElementById("root")),A()},69:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){},73:function(t,e,n){}},[[180,1,2]]]);
//# sourceMappingURL=main.495fe7e6.chunk.js.map